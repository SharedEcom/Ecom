<div *ngIf="cartProducts?.length>0">
    <div class="card my-3" *ngFor="let cartProduct of cartProducts">
        <a (click)="showProduct(cartProduct)" class="text-info h5 card-header">{{ cartProduct.product.productBrand }}
            {{ cartProduct.product.productName }}</a>
        <div class="row">
            <div class="col-sm">
                <div class="card-body">
                    <h5 class="card-title">{{ cartProduct.category.categoryName }}</h5>
                    <p class="card-text">{{ cartProduct.product.productDescription }}</p>
                    <p class="ml-3 card-text">{{ cartProduct.cart.cartQty }} Quantity in Cart</p>
                    <small class="ml-3 card-text text-danger"
                        *ngIf="cartProduct.product.inStockQty<50 || cartProduct.product.inStockQty == 50">Hurry!! Only
                        {{ cartProduct.product.inStockQty }} left in stock</small>
                    <br />
                    <small class="ml-3 card-text">Expected Shipment Date: {{ cartProduct.cart.expShipDate }}</small>
                    <br />
                    <small class="ml-3 card-text">Expected Delivery Date: {{ cartProduct.cart.expDeliveryDate }}</small>
                </div>
            </div>
            <div class="col-4 mb-3">
                <h6 class="my-3">MRP : <del>{{cartProduct.product.mrp}}/-</del></h6>
                <h4 class="my-3 text-success">Discount: {{ cartProduct.product.discount }}/-</h4>
                <h3 class="mt-3">Offer Price: {{ cartProduct.product.mrp  - cartProduct.product.discount}}/- Only</h3>
                <h4 class="my-3">Total: {{ cartProduct.cart.cartTotal }}/-</h4>
                <a (click)="removeCart(cartProduct)" class="btn btn-danger mb-2 mr-3"><i
                    class="fa fa-trash pr-2" >
                    </i>Remove From Cart</a>
            </div>
        </div>
    </div>
    <div class="container d-flex justify-content-center mt-100">
        <!-- Button to Open the Modal --> <button type="button" class="btn btn-outline-primary openmodal m-5"
            data-toggle="modal" data-target="#modal1" (click)="calcTotal(cartProducts)"> Click here to see your Order
        </button> <!-- The Modal -->
        <div class="modal fade" id="modal1">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">My Orders</h4> <button type="button" class="close"
                            data-dismiss="modal">&times;</button>
                    </div> <!-- Modal body -->
                    <div class="modal-body">
                        <div class="container">
                            <h6>Item Details</h6>
                            <div class="border border-warning my-2 p-5 shadow-lg bg-white rounded"
                                *ngFor="let cartProduct of cartProducts">
                                <div class="row">
                                    <div class="col"> <img class="img-fluid" src="{{cartProduct.product.imageUrl }}">
                                    </div>
                                    <div class="col-xs-6">
                                        <ul type="none">
                                            <li>Price: {{cartProduct.product.mrp}}/-</li>
                                            <li>Quantity:{{ cartProduct.cart.cartQty }}</li>
                                            <li>Discount:{{ cartProduct.product.discount }}/-</li>
                                            <li>Offer Price:{{ cartProduct.cart.cartTotal }}/-</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class=" m-2">
                                <h6>Order Details</h6>
                                <div class="row ">
                                    <div class="col-xs-6">
                                        <ul type="none">
                                            <li class="left">Order number:</li>
                                            <li class="left">Order Date:</li>
                                            <li class="left">Amount:</li>
                                            <li class="left">Shipping:</li>
                                            <li class="left">Total Amount:</li>
                                        </ul>
                                    </div>
                                    <div class="col-xs-6 ">
                                        <ul class="right" type="none">
                                            <li class="right">#ORD-{{ orderNumber }}</li>
                                            <li class="right">{{ displayOrderDate }}</li>
                                            <li class="right">{{ cartTotal }}/-</li>
                                            <li class="right">{{ shippingCharges }}/-</li>
                                            <li class="right">{{ totalAmount }}/-</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- Modal footer -->
                    <div class="modal-footer"> <button (click)="placeOrder()"
                            class="btn btn-outline-primary" data-dismiss="modal">Confirm</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="my-3" *ngIf="cartProducts?.length===0">
    <div class="alert alert-danger" role="alert">
        <h4 class="alert-heading">Empty Cart!</h4>
        <p>Woah.. Seems like you have not added any product inside your cart</p>
        <hr>
        <p class="mb-0">Please choose a <a routerLink="/" class="text-danger"><b>Product</b></a> and press <b>Add To Cart</b></p>
    </div>
</div>