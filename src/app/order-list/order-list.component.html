<div class="jumbotron mt-1 bg-transparent py-4">
    <h2 class="h2 text-center">My Orders</h2>
</div>

<div class="accordion mb-3" id="accordionExample">
    <div class="card" *ngFor="let order of orders; let i=index;">
        <div class="card-header" id="heading{{i}}">
            <div class="row-sm">
                <div class="col-sm">
                    <button class="btn btn-primary btn-sm" type="button" data-toggle="collapse"
                        attr.data-target="#collapse{{i}}" aria-expanded="true" attr.aria-controls="collapse{{i}}"
                        (click)="getOrderDetails(order.order)">
                        #ORD-{{ order.order.orderNumber }}
                    </button>
                </div>
                <div class="col-sm">
                    <div class="row">
                        <div class="col-sm">
                            Order Amount
                        </div>
                        <div class="col-sm">
                            Order Date
                        </div>
                        <div class="col-sm">
                            Delivery Date
                        </div>
                        <div class="col-sm">
                            Transaction Status
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm">
                            {{ order.order.invoiceAmount }}/-
                        </div>
                        <div class="col-sm">
                            {{ order.order.orderDate }}
                        </div>
                        <div class="col-sm">
                            {{ order.order.deliveryDate }}
                        </div>
                        <div class="col-sm" *ngIf="order.order.transStatus==='SUCCESS'">
                            Fully Paid
                        </div>
                        <div class="col-sm" *ngIf="order.order.transStatus!=='SUCCESS'">
                            Not-Paid
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="collapse{{i}}" class="collapse" attr.aria-labelledby="heading{{i}}" data-parent="#accordionExample">
            <div class="card-body">
                <div class="container" *ngFor="let orderDetail of orderDetails">
                    <div class="row">
                        <div class="col-sm font-weight-bold d-flex align-items-center">
                            {{ orderDetail.product.productBrand }} {{ orderDetail.product.productName }} <br><br>
                            Category: {{ orderDetail.category.categoryName }} <br><br>
                            Quantity: {{ orderDetail.orderDetails.unitQty }} <br><br>
                            Buy Price: {{ orderDetail.orderDetails.total }}/-

                        </div>
                        <div class="col-sm d-flex align-items-center">
                            Supplier: {{ orderDetail.supplier.companyName }} <br><br>
                            {{ orderDetail.supplier.city }}, {{ orderDetail.supplier.state }} - {{ orderDetail.supplier.postalCode }} <br><br>
                            Payment Mode: {{ order.payment.paymentType }} <br><br>
                            Shipper: {{ order.shipper.companyName }}
                        </div>
                        <div class="col-sm">
                            <img class="img-fluid" src="{{ orderDetail.product.imageUrl }}">
                        </div>
                    </div>
                    <hr />
                </div>
            </div>
        </div>
    </div>
</div>